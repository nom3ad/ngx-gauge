{"version":3,"file":"ngx-gauge.js","sources":["ng://ngx-gauge/common/util.ts","ng://ngx-gauge/gauge/gauge-directives.ts","ng://ngx-gauge/gauge/gauge.ts","ng://ngx-gauge/ngx-gauge.module.ts"],"sourcesContent":["export function clamp(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, value));\n}\nexport function coerceBooleanProperty(value: any): boolean {\n    return value != null && `${value}` !== 'false';\n}\nexport function coerceNumberProperty(value: any, fallbackValue: number = 0): number {\n    return isNaN(parseFloat(value)) || isNaN(Number(value)) ? fallbackValue : Number(value);\n}\nexport function cssUnit(value: number) {\n    return `${value}px`;\n}\nexport function isNumber(value: string) {\n    return value != undefined && !isNaN(parseFloat(value)) && !isNaN(Number(value));\n}","import { Directive } from \"@angular/core\";\n\n@Directive({\n  selector: \"ngx-gauge-append\",\n  exportAs: \"ngxGaugeAppend\"\n})\nexport class NgxGaugeAppend {}\n\n@Directive({\n  selector: \"ngx-gauge-prepend\",\n  exportAs: \"ngxGaugePrepend\"\n})\nexport class NgxGaugePrepend {}\n\n@Directive({\n  selector: \"ngx-gauge-value\",\n  exportAs: \"ngxGaugeValue\"\n})\nexport class NgxGaugeValue {}\n\n@Directive({\n  selector: \"ngx-gauge-label\",\n  exportAs: \"ngxGaugeLabel\"\n})\nexport class NgxGaugeLabel {}\n","import {\n    Component,\n    Input,\n    SimpleChanges,\n    ViewEncapsulation,\n    Renderer,\n    AfterViewInit,\n    ElementRef,\n    OnChanges,\n    OnDestroy,\n    ViewChild,\n    ContentChild\n} from '@angular/core';\nimport { NgxGaugeError } from './gauge-error';\nimport {\n    clamp,\n    coerceBooleanProperty,\n    coerceNumberProperty,\n    cssUnit,\n    isNumber\n} from '../common/util';\nimport { NgxGaugeLabel, NgxGaugeValue, NgxGaugePrepend, NgxGaugeAppend } from './gauge-directives';\n\nconst DEFAULTS = {\n    MIN: 0,\n    MAX: 100,\n    TYPE: 'arch',\n    THICK: 4,\n    FOREGROUND_COLOR: '#009688',\n    BACKGROUND_COLOR: 'rgba(0, 0, 0, 0.1)',\n    CAP: 'butt',\n    SIZE: 200\n};\n\nexport type NgxGaugeType = 'full' | 'arch' | 'semi';\nexport type NgxGaugeCap = 'round' | 'butt';\n\nfunction selectColor(i) {\n    return [ '#009688' , '#dbf7f7'][i];\n}\n@Component({\n    selector: 'ngx-gauge',\n    templateUrl: 'gauge.html',\n    styleUrls: ['gauge.css'],\n    host: {\n        'role': 'slider',\n        'aria-readonly': 'true',\n        '[class.ngx-gauge-meter]': 'true',\n        '[attr.aria-valuemin]': 'min',\n        '[attr.aria-valuemax]': 'max',\n        '[attr.aria-valuenow]': 'value',\n        '[attr.aria-label]': 'ariaLabel',\n        '[attr.aria-labelledby]': 'ariaLabelledby'\n\n    },\n    encapsulation: ViewEncapsulation.None\n})\nexport class NgxGauge implements AfterViewInit, OnChanges, OnDestroy {\n\n    @ViewChild('canvas', { static: true }) _canvas: ElementRef;\n\n    @ContentChild(NgxGaugeLabel, { static: false }) _labelChild: NgxGaugeLabel;\n    @ContentChild(NgxGaugePrepend, { static: false }) _prependChild: NgxGaugePrepend;\n    @ContentChild(NgxGaugeAppend, { static: false }) _appendChild: NgxGaugeAppend;\n    @ContentChild(NgxGaugeValue, { static: false }) _valueDisplayChild: NgxGaugeValue;\n\n    private _size: number = DEFAULTS.SIZE;\n    private _min: number = DEFAULTS.MIN;\n    private _max: number = DEFAULTS.MAX;\n    private _animate: boolean = true;\n\n    private _initialized: boolean = false;\n    private _context: CanvasRenderingContext2D;\n    private _animationRequestID: number = 0;\n\n    @Input('aria-label') ariaLabel: string = '';\n\n    @Input('aria-labelledby') ariaLabelledby: string | null = null;\n\n    @Input()\n    get size(): number { return this._size; }\n    set size(value: number) {\n        this._size = coerceNumberProperty(value);\n    }\n\n    @Input()\n    get min(): number { return this._min; }\n    set min(value: number) {\n        this._min = coerceNumberProperty(value, DEFAULTS.MIN);\n    }\n    @Input()\n    get animate(): boolean { return this._animate; }\n    set animate(value) {\n        this._animate = coerceBooleanProperty(value);\n    }\n\n    @Input()\n    get max(): number { return this._max; }\n    set max(value: number) {\n        this._max = coerceNumberProperty(value, DEFAULTS.MAX);\n    }\n\n    @Input() type: NgxGaugeType = DEFAULTS.TYPE as NgxGaugeType;\n\n    @Input() cap: NgxGaugeCap = DEFAULTS.CAP as NgxGaugeCap;\n\n    @Input() thick: number = DEFAULTS.THICK;\n\n    @Input() label: string;\n\n    @Input() append: string;\n\n    @Input() prepend: string;\n\n    @Input() foregroundColor: string = DEFAULTS.FOREGROUND_COLOR;\n\n    @Input() backgroundColor: string = DEFAULTS.BACKGROUND_COLOR;\n\n    @Input() thresholds: Object = Object.create(null);\n\n    private _value: number = 0;\n    private _steps?: { ratio: number, color: string }[];\n\n    @Input()\n    get value() { return this._value; }\n    set value(val: any) {\n        if (Array.isArray(val)) {\n            if( typeof(val[0]) === 'object' ){\n                this._value = coerceNumberProperty(val.reduce((a, b) => a + b.step, 0));\n                this._steps = val.map((s, i) => ({ ratio: s.step / this._value, color: s.color || selectColor(i) }));\n            } else {\n                this._value = coerceNumberProperty(val.reduce((a, b) => a + b, 0));\n                this._steps = val.map((s, i) => ({ ratio: s / this._value, color: selectColor(i) }));\n            }\n        } else {\n            this._value = coerceNumberProperty(val);\n        }\n    }\n\n    @Input() duration: number = 1200;\n\n\n\n    constructor(private _elementRef: ElementRef, private _renderer: Renderer) { }\n\n    ngOnChanges(changes: SimpleChanges) {\n        const isCanvasPropertyChanged = changes['thick'] || changes['type'] || changes['cap'] || changes['size'];\n        const isDataChanged = changes['value'] || changes['min'] || changes['max'];\n\n        if (this._initialized) {\n            if (isDataChanged) {\n                let nv, ov;\n                if (changes['value']) {\n                    nv = changes['value'].currentValue;\n                    ov = changes['value'].previousValue;\n                }\n                this._update(nv, ov);\n            }\n            if (isCanvasPropertyChanged) {\n                this._destroy();\n                this._init();\n            }\n        }\n    }\n\n    private _updateSize() {\n        this._renderer.setElementStyle(this._elementRef.nativeElement, 'width', cssUnit(this._size));\n        this._renderer.setElementStyle(this._elementRef.nativeElement, 'height', cssUnit(this._size));\n        this._canvas.nativeElement.width = this.size;\n        this._canvas.nativeElement.height = this.size;\n    }\n\n    ngAfterViewInit() {\n        if (this._canvas) {\n            this._init();\n        }\n    }\n\n    ngOnDestroy() {\n        this._destroy();\n    }\n\n    private _getBounds(type: NgxGaugeType) {\n        let head, tail;\n        if (type == 'semi') {\n            head = Math.PI;\n            tail = 2 * Math.PI;\n        } else if (type == 'full') {\n            head = 1.5 * Math.PI;\n            tail = 3.5 * Math.PI;\n        } else if (type === 'arch') {\n            head = 0.8 * Math.PI;\n            tail = 2.2 * Math.PI;\n        }\n        return { head, tail };\n    }\n\n    private _drawShell(start: number, middle: number, tail: number, color: string) {\n        let center = this._getCenter(),\n            radius = this._getRadius();\n\n        middle = Math.max(middle, start); // never below 0%\n        middle = Math.min(middle, tail); // never exceed 100%\n        if (this._initialized) {\n            this._clear();\n            this._context.beginPath();\n            this._context.strokeStyle = this.backgroundColor;\n            this._context.arc(center.x, center.y, radius, middle, tail, false);\n            this._context.stroke();\n            if (!this._steps) {\n                this._context.beginPath();\n                this._context.strokeStyle = color;\n                this._context.arc(center.x, center.y, radius, start, middle, false);\n                this._context.stroke();\n            } else {\n                const archlen = middle - start\n                let stepstart = start;\n                for (const { color, ratio } of this._steps) {\n                    const stepend = stepstart + archlen * ratio;\n                    this._context.beginPath();\n                    this._context.strokeStyle = color;\n                    this._context.arc(center.x, center.y, radius, stepstart, stepend, false);\n                    this._context.stroke();\n                    stepstart = stepend;\n                }\n            }\n        }\n    }\n\n    private _clear() {\n        this._context.clearRect(0, 0, this._getWidth(), this._getHeight());\n    }\n\n    private _getWidth() {\n        return this.size;\n    }\n\n    private _getHeight() {\n        return this.size;\n    }\n\n    private _getRadius() {\n        var center = this._getCenter();\n        return center.x - this.thick;\n    }\n\n    private _getCenter() {\n        var x = this._getWidth() / 2,\n            y = this._getHeight() / 2;\n        return { x, y };\n    }\n\n    private _init() {\n        this._context = (this._canvas.nativeElement as HTMLCanvasElement).getContext('2d');\n        this._initialized = true;\n        this._updateSize();\n        this._setupStyles();\n        this._create();\n    }\n\n    private _destroy() {\n        if (this._animationRequestID) {\n            window.cancelAnimationFrame(this._animationRequestID);\n            this._animationRequestID = 0;\n        }\n        this._clear();\n        this._context = null;\n        this._initialized = false;\n    }\n\n    private _setupStyles() {\n        this._context.lineCap = this.cap;\n        this._context.lineWidth = this.thick;\n    }\n\n    private _getForegroundColorByRange(value) {\n\n        const match = Object.keys(this.thresholds)\n            .filter(function (item) { return isNumber(item) && Number(item) <= value })\n            .sort((a, b) => Number(a) - Number(b))\n            .reverse()[0];\n\n        return match !== undefined\n            ? this.thresholds[match].color || this.foregroundColor\n            : this.foregroundColor;\n    }\n\n    private _create(nv?: number, ov?: number) {\n        let self = this,\n            type = this.type,\n            bounds = this._getBounds(type),\n            duration = this.duration,\n            min = this.min,\n            max = this.max,\n            value = clamp(this.value, this.min, this.max),\n            start = bounds.head,\n            unit = (bounds.tail - bounds.head) / (max - min),\n            displacement = unit * (value - min),\n            tail = bounds.tail,\n            color = this._getForegroundColorByRange(value),\n            startTime;\n\n        if (self._animationRequestID) {\n            window.cancelAnimationFrame(self._animationRequestID);\n        }\n\n        function animate(timestamp) {\n            timestamp = timestamp || new Date().getTime();\n            let runtime = timestamp - startTime;\n            let progress = Math.min(runtime / duration, 1);\n            let previousProgress = ov ? (ov - min) * unit : 0;\n            let middle = start + previousProgress + displacement * progress;\n\n            self._drawShell(start, middle, tail, color);\n            if (self._animationRequestID && (runtime < duration)) {\n                self._animationRequestID = window.requestAnimationFrame((timestamp) => animate(timestamp));\n            } else {\n                window.cancelAnimationFrame(self._animationRequestID);\n            }\n        }\n        if (this._animate) {\n            if (nv != undefined && ov != undefined) {\n                displacement = unit * nv - unit * ov;\n            }\n            self._animationRequestID = window.requestAnimationFrame((timestamp) => {\n                startTime = timestamp || new Date().getTime();\n                animate(startTime);\n            });\n        } else {\n            self._drawShell(start, start + displacement, tail, color);\n        }\n    }\n\n    private _update(nv: number, ov: number) {\n        this._clear();\n        this._create(nv, ov);\n    }\n\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxGauge } from './gauge/gauge';\nimport { NgxGaugeLabel, NgxGaugeValue, NgxGaugePrepend, NgxGaugeAppend } from './gauge/gauge-directives';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NgxGauge, NgxGaugeAppend, NgxGaugePrepend, NgxGaugeValue, NgxGaugeLabel],\n  exports: [NgxGauge, NgxGaugeAppend, NgxGaugePrepend, NgxGaugeValue, NgxGaugeLabel]\n})\nexport class NgxGaugeModule { }"],"names":[],"mappings":"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"}